name: Forward Issue to Another Repo

on:
  issues:
    types: [opened]

jobs:
  forward:
    runs-on: ubuntu-latest
    steps:
      - name: Create issue in Repo B using API
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.TARGET_REPO_PAT }}
          script: |
            const title = context.payload.issue.title;
            const body = `Original issue by @${context.payload.issue.user.login} in ${context.repo.owner}/${context.repo.repo}\n\n---\n${context.payload.issue.body}`;
            await github.rest.issues.create({
              owner: 'rabwill',
              repo: 'hack-test',
              title: title,
              body: body,
              labels: ['agenthack2026']
            });
